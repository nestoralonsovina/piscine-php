<!DOCTYPE html>
<html>
<head>
	<title>Calculator</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
		function check_error(left, operator, right) {
			let bool = true;

			if (left < 0 || right < 0) {
				alert("Error :(");
				console.log("Error :(");
				bool = false;
			}

			if ((operator == "%" || operator == "/") && right == 0) {
				alert("It's over 9000!");
				console.log("It's over 9000!")
				bool = false;
			}

			return bool;
		}

		function display_result(result) {
			alert(result);
			console.log(result);
		}

		window.onload = () => {
			window.setTimeout(function message() {
				alert("Please, use me...");
				setTimeout(message, 30000);
			}, 30000);
			const submit = document.getElementById("submit");


			submit.addEventListener('click', () => {
				const select = document.getElementById("operator");
				const operator = select.options[select.selectedIndex].text;
				let left = document.getElementById("left").value;
				let right = document.getElementById("right").value;

				if (left == "" || right == "") {
					alert("Error :(");
					console.log("Error :(");
				} else {
					left = parseInt(left);
					right = parseInt(right);

					switch (operator) {
						case '%':
							if (check_error(left, operator, right)) {
								let result = left % right;
								display_result(result);
							}
						break;
						case '/':
							if (check_error(left, operator, right)) {
								let result = left / right;
								display_result(result);
							}
						break;
						case '*':
							if (check_error(left, operator, right)) {
								let result = left * right;
								display_result(result);
							}
						break;
						case '-':
							if (check_error(left, operator, right)) {
								let result = left - right;
								display_result(result);
							}
						break;
						case '+':
							if (check_error(left, operator, right)) {
								let result = left + right;
								display_result(result);
							}
						break;
					}
				}

			});
		}
	</script>
</head>
<body>
	<input type="text" name="left" id="left">
	<select name="operator" id="operator">
		<option value="plus">+</option>
		<option value="minus">-</option>
		<option value="mult">*</option>
		<option value="div">/</option>
		<option value="mod">%</option>
	</select>
	<input type="text" name="right" id="right">
	<input type="submit" value="Try me!" id="submit">
</body>
</html>
